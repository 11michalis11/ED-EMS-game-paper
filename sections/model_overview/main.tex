\section{Overview of game theoretic model}

The problem studied is a 3-player game theoretic scenario between two queueing 
systems and a service that distributes individuals to them. 
Each player in this game has its own objectives and cares about meeting its own 
targets.
More specifically, the queueing systems' objective is captured by an upper bound
of the time that a fixed proportion of individuals need to spend in the system, 
while the distributor aims to minimise the time that its individuals 
are blocked.  

The queueing systems are designed in such a way where they can accept two types
of individuals. 
These are the individuals that the distributor allocates to them and 
other individuals from other sources. 
Each queueing system may then choose to block the individuals that arrive from 
the distributor when the system reaches a certain capacity. 
Thus, the set of strategies that they may choose to play in the game are defined 
as the set of possible choices that the two queueing systems have. 
In other words, each queueing system is given \( N_A \) and \( N_B \) number of 
strategies where \( N_A \) and \( N_B \) are the total capacities of the two 
queueing systems.
The \textit{threshold} parameter is thus used to capture the chosen 
strategy for each hospital where \( T_A \in \left[1, N_A \right] \) and 
\( T_B \in \left[1, N_B \right] \)
Their choice of strategy will then rely solely on satisfying their own 
objective, which is to make sure that the waiting time of a proportion of 
individuals will be below the predefined target time.

\begin{equation}
    P(W < \textit{ Target}) \geq \hat{P}
\end{equation}

where \(W\) is the waiting time of all individuals, \textit{Target} is the time 
target and \(\hat{P}\) is the percentage of individuals need to be within that 
target. 
There are numerous objective functions that can be used to capture this 
behaviour. 
The first one would be to use the threshold that maximises the probability that 
the mean waiting is more than the target time, and completely ignore the 
percentage goal.

\begin{equation}
    \max_{T_i} \quad P(W_i < \textit{Target})
\end{equation}

Perhaps a more sophisticated objective function would be to get the proportion 
of individuals as close to the percentage aim. 
In other words, to find the threshold that minimises the difference between the 
probability and the percentage goal (or maximise its negation).

\begin{equation}
    \max_{T_i} \quad -\left( \hat{P} - P(W_i < \textit{Target}) \right)^2
\end{equation}


On the other side of the spectrum, the distributor has its own choices 
to make and its own goals to satisfy.
The set of strategies it has can be defined as the different ways that it can 
distribute individuals to the two queueing system.
Therefore, unlike the queueing systems, the distributor has a 
continuous set of strategies that goes from \( 0\% - 100\% \). 
For example, it may choose to send \(35\%\) of its individuals to the first 
queueing system and \(65\%\) to the second one.
In addition, the distributor aims to minimise any potential blockages
that may occur, given the pair of thresholds chosen by the two queueing systems.
Thus, its objective is to minimise the blocked time of the individuals 
that they send to the two queueing systems.
Apart from the time being blocked, an additional aspect that may affect the 
decision of the distribution service is the proportion of lost individuals.
Equation \ref{eq:obj-distribution-service} can be used to capture a mixture 
between the two objectives.

\begin{equation}\label{eq:obj-distribution-service}
    \alpha P(L_A) + (1 - \alpha) B_A = 
    \alpha P(L_B) + (1 - \alpha) B_B
\end{equation}

Here, the purpose of \(\alpha\) is to tune the ``importance'' of each objective,
where high \(\alpha\) indicates a higher weight on the proportion of lost 
individuals and smaller \(\alpha\) a higher weight on the time blocked. 


% PAR: COMBINED FORMULATION (Figure of 3-player game)
% Intro
% Payoff matrices??

\begin{figure}[h]
    \centering
    \begin{tikzpicture}[-, node distance = 3cm, scale=0.8]
        \node[anchor=north](H1){\(H_1\)};
        \node[anchor=north](H1_d1) at (3, 2){.};
        \node[anchor=north](H1_d2) at (3, -2){.};
    
        \path[->] (H1) edge node {}(H1_d1);
        \path[->] (H1) edge node {}(H1_d2);
        \path (H1_d1) edge [bend left] node {}(H1_d2);
        \path (H1_d1) [dashed] edge node {}(H1_d2);
    
        \node[anchor=north](H2) at (4.1, 0){\(H_2\)};
        \node[anchor=north](H2_d1) at (6.9, 2){.};
        \node[anchor=north](H2_d2) at (6.9, -2){.};
    
        \path[->] (H2) edge node {}(H2_d1);
        \path[->] (H2) edge node {}(H2_d2);
        \path(H2_d1) edge [bend left] node {}(H2_d2);
    
        \node[anchor=north](A) at (7.8, 0){\(A\)};
        \node[anchor=north](A_d1) at (10.8, 2){.};
        \node[anchor=north](A_d2) at (10.8, -2){.};
        
        \path[->] (A) edge node {}(A_d1);
        \path[->] (A) edge node {}(A_d2);
        \path(A_d1) edge [bend left] node {}(A_d2);
    \end{tikzpicture}
    \caption{}
\end{figure}


\begin{table}[ht]
    \centering
    A = 
    \begin{tabular}{|l|l|l|l|}
    \hline
    \( U_{1,1}^A \) & \( U_{1,2}^A \) & \dots & \( U_{1,N_B}^A \) \\ \hline
    \( U_{2,1}^A \) & \( U_{2,2}^A \) & \dots & \( U_{2,N_B}^A \) \\ \hline
    \vdots & \vdots & \( \ddots \) & \vdots \\ \hline
    \( U_{N_A,1}^A \) & \( U_{N_A,2}^A \) & \dots & \( U_{N_A,N_B}^A \) \\ \hline
    \end{tabular}
\end{table}  

\begin{table}[ht]
    \centering
    B = 
    \begin{tabular}{|l|l|l|l|}
    \hline
    \( U_{1,1}^B \) & \( U_{1,2}^B \) & \dots & \( U_{1,N_B}^B \) \\ \hline
    \( U_{2,1}^B \) & \( U_{2,2}^B \) & \dots & \( U_{2,N_B}^B \) \\ \hline
    \vdots & \vdots & \( \ddots \) & \vdots \\ \hline
    \( U_{N_A,1}^B \) & \( U_{N_A,2}^B \) & \dots & \( U_{N_A,N_B}^B \) \\ \hline
    \end{tabular}
\end{table}  

